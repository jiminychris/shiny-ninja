<map>
  <portals>
    <up>
      <portal file="l1-4-2.map" />
    </up>
    <right>
      <portal file="l1-3-2.map" />
    </right>
  </portals>
  <tiles file="uwtiles.til">
    <palette>
      <color r="0" g="0" b="0" />
      <color r="0" g="128" b="136" />
      <color r="24" g="60" b="92" />
      <color r="0" g="232" b="216" />
    </palette>
    <row>
      <tile type="top-left-ceil" />
      <tile type="top-wall-ceil" />
      <tile type="top-wall-ceil-1" />
      <tile type="top-wall-ceil" />
      <tile type="top-wall-ceil" />
      <tile type="top-wall-ceil-2" />
      <tile type="top-wall-ceil-3" />
      <tile type="top-door-ceil-1" mask="True" />
      <tile type="top-door-ceil-2" mask="True" />
      <tile type="top-wall-ceil-4" />
      <tile type="top-wall-ceil-5" />
      <tile type="top-wall-ceil" />
      <tile type="top-wall-ceil" />
      <tile type="top-wall-ceil-6" />
      <tile type="top-wall-ceil" />
      <tile type="top-right-ceil" />
    </row>
    <row>
      <tile type="left-wall-ceil" />
      <tile type="top-left-floor" />
      <tile type="top-wall-floor-1" />
      <tile type="top-wall-floor-2" />
      <tile type="top-wall-floor-3" />
      <tile type="top-wall-floor-4" />
      <tile type="top-wall-floor-5" />
      <tile type="top-lock-1">
        <alt>
          <condition>'lock-l1/3-1=4-2' not in self._cache</condition>
          <tile type="top-door-floor-1" />
        </alt>
        <action>
if self._inventory.keys > 0:
  self._inventory.removekey()
  self._cache.append('lock-l1/3-1=4-2')
  self._loadmap(self._currentmapname)
        </action>
      </tile>
      <tile type="top-lock-2">
        <alt>
          <condition>'lock-l1/3-1=4-2' not in self._cache</condition>
          <tile type="top-door-floor-2" />
        </alt>
        <action>
if self._inventory.keys > 0:
  self._inventory.removekey()
  self._cache.append('lock-l1/3-1=4-2')
  self._loadmap(self._currentmapname)
        </action>
      </tile>
      <tile type="top-wall-floor-6" />
      <tile type="top-wall-floor-7" />
      <tile type="top-wall-floor-8" />
      <tile type="top-wall-floor-9" />
      <tile type="top-wall-floor-10" />
      <tile type="top-right-floor" />
      <tile type="right-wall-ceil" />
    </row>
    <row>
      <tile type="left-wall-ceil" />
      <tile type="left-wall-floor-1" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="right-wall-floor-1" />
      <tile type="right-wall-ceil" />
    </row>
    <row>
      <tile type="left-wall-ceil-1" />
      <tile type="left-wall-floor-2" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="right-wall-floor-2" />
      <tile type="right-wall-ceil-1" />
    </row>
    <row>
      <tile type="left-wall-ceil-2" />
      <tile type="left-wall-floor-3" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="block" />
      <tile type="block" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="right-door-floor-1" />
      <tile type="right-door-ceil-1" />
    </row>
    <row>
      <tile type="left-wall-ceil" mask="True" />
      <tile type="left-wall-floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="block" />
      <tile type="block" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="right-door-floor-2" />
      <tile type="right-door-ceil-2" mask="True" />
    </row>
    <row>
      <tile type="left-wall-ceil-3" />
      <tile type="left-wall-floor-4" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="block" />
      <tile type="block" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="right-door-floor-3" />
      <tile type="right-door-ceil-3" />
    </row>
    <row>
      <tile type="left-wall-ceil-4" />
      <tile type="left-wall-floor-5" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="right-wall-floor-5" />
      <tile type="right-wall-ceil-4" />
    </row>
    <row>
      <tile type="left-wall-ceil" />
      <tile type="left-wall-floor-6" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="floor" />
      <tile type="right-wall-floor-6" />
      <tile type="right-wall-ceil" />
    </row>
    <row>
      <tile type="left-wall-ceil" />
      <tile type="bottom-left-floor" />
      <tile type="bottom-wall-floor-1" />
      <tile type="bottom-wall-floor-2" />
      <tile type="bottom-wall-floor-3" />
      <tile type="bottom-wall-floor-4" />
      <tile type="bottom-wall-floor-5" />
      <tile type="bottom-wall-floor" />
      <tile type="bottom-wall-floor" />
      <tile type="bottom-wall-floor-6" />
      <tile type="bottom-wall-floor-7" />
      <tile type="bottom-wall-floor-8" />
      <tile type="bottom-wall-floor-9" />
      <tile type="bottom-wall-floor-10" />
      <tile type="bottom-right-floor" />
      <tile type="right-wall-ceil" />
    </row>
    <row>
      <tile type="bottom-left-ceil" />
      <tile type="bottom-wall-ceil" />
      <tile type="bottom-wall-ceil-1" />
      <tile type="bottom-wall-ceil" />
      <tile type="bottom-wall-ceil" />
      <tile type="bottom-wall-ceil-2" />
      <tile type="bottom-wall-ceil-3" />
      <tile type="bottom-wall-ceil" mask="True" />
      <tile type="bottom-wall-ceil" mask="True" />
      <tile type="bottom-wall-ceil-4" />
      <tile type="bottom-wall-ceil-5" />
      <tile type="bottom-wall-ceil" />
      <tile type="bottom-wall-ceil" />
      <tile type="bottom-wall-ceil-6" />
      <tile type="bottom-wall-ceil" />
      <tile type="bottom-right-ceil" />
    </row>
  </tiles>
</map>
